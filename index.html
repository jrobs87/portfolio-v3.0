<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- Materialize CSS Stylesheet -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!-- Hamburger Icons (for testing) -->
    <link rel="stylesheet" href="assets/css/hamburgers.css">
    <!-- Font Awesome for icons (maybe just use material icon) -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="assets/css/style.css">

    <!-- jquery loaded first for loader scripts and scrollify.js  -->
    <script src="https://code.jquery.com/jquery-3.4.0.min.js"
        integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=" crossorigin="anonymous"></script>
    <!-- easing library -->
    <script src="assets/js/easing.js"></script>
    <!-- particles js -->
    <script src="assets/js/particles.js"></script>
    <!-- imperative to load scrollify before content -->
    <script src="../Scrollify/jquery.scrollify.js"></script>
    <!-- scrollify initialization script -->
    <script>
        // intiliaze the scrollify library
        $(function () {
            $.scrollify({
                section: ".section-scrollify",
            });
        });

        // Section properties
        const sections = [
            {
                index: 0,
                name: 'Home',
                font: '',
                cursor: '',
                cursorFollow: '#30BCED',
                accentOne: '',
                navBlock: '#5941a9',
                navIcon: '#06070E',
                particles: '#30BCED'
            },
            {
                index: 1,
                name: 'About',
                font: '',
                cursor: '#5941a9',
                cursorFollow: '#5941a9',
                accentOne: '',
                navBlock: '#FF4800',
                navIcon: '#FCFCFC',
                particles: '#FCFCFC'
            },
            {
                index: 2,
                name: 'Projects',
                font: '',
                cursor: '#FCFCFC',
                cursorFollow: '#ff5817',
                accentOne: '',
                navBlock: '#30BCED',
                navIcon: '#FCFCFC',
                particles: '#FCFCFC'
            },
            {
                index: 3,
                name: 'Musings',
                font: '',
                cursor: '#ff5817',
                cursorFollow: '#ff5817',
                accentOne: '',
                navBlock: '#30BCED',
                navIcon: '#06070E',
                particles: '#FF4800'
            },
            {
                index: 4,
                name: 'Contact',
                font: '',
                cursor: '#06070E',
                cursorFollow: '#06070E',
                accentOne: '',
                navBlock: '#30BCED',
                navIcon: '#FCFCFC',
                particles: '#DCE1DE'
            },
            {
                index: 5,
                name: 'Footer',
                font: '',
                cursor: '',
                cursorFollow: '#06070E',
                accentOne: '',
                navBlock: '#30BCED',
                navIcon: '#FCFCFC',
                particles: '#DCE1DE'
            },
        ]

        // set up scrollify options
        $.scrollify({
            section: ".section-scrollify",
            sectionName: "section-name",
            interstitialSection: ".footer",
            easing: "easeOutExpo",
            scrollSpeed: 1100,
            offset: 0,
            scrollbars: false,
            standardScrollElements: "",
            setHeights: true,
            overflowScroll: true,
            updateHash: true,
            touchScroll: true,
            before: function () {
                // store current section (going to is current) 
                sectionCurrent = $.scrollify.currentIndex();
                console.log(`Scrolling to section ${sectionCurrent}`);

                // update the pagination
                $('.fill').css('height', (sectionCurrent * 2) + 'em');
                $('.current-page').text(sectionCurrent + 1).toString();

                // update nav-icons
                // $('.nav-fixed').css('color', sectionCurrent);
                $('.follow2').css('background', sections[sectionCurrent].cursorFollow);
                $('.your-cursor2').css('background', sections[sectionCurrent].cursor);

                // update the nav block reveal color
                $('#nav-block').css('background', sections[sectionCurrent].navBlock);

                console.log('yo ' + sections[sectionCurrent].navBlock);

                $('button').css('color', sections[sectionCurrent].navIcon);
                console.log(sections[sectionCurrent].navIcon);
                // pJSDom[0].pJS.fn.particlesRefresh() // resets entire particles canvas

                // adjust particles properties on the fly - shoutout to https://github.com/VincentGarreau/particles.js/issues/71 for the fix on this

                // fixing the timing for the particle changes on scroll (needs to delay just slightly)
                setTimeout(function () {
                    const newColor = sections[sectionCurrent].particles;

                    $.each(pJSDom[0].pJS.particles.array, function (i, p) {
                        pJSDom[0].pJS.particles.array[i].color.value = newColor;
                        pJSDom[0].pJS.particles.array[i].color.rgb = hexToRgb(newColor);

                    });
                }, 500)

            },
            after: function () {


                // After scroll events here
            },
            afterResize: function () { },
            afterRender: function () { }
        });
    </script>

    <title>j. robertson portfolio</title>
</head>

<body>

    <!-- this is the future prototype element for scrollify color changes and layer cursor interaction -->
    <a>
        <div class="nav-fixed nav-tl test-light">
            <button data-state="closed" class="cursor-hover"
                style="transform: rotate(-90deg); margin: 1em 0 0 -2.4em; font-family: geomanist-regular; font-size: 1.25em">
                jr.web
            </button>
        </div>
    </a>

    <a>
        <div class="nav-fixed nav-tr test-light">
            <button id="nav-toggle" data-state="closed" class="cursor-hover">
                MENU
            </button>
        </div>
    </a>

    <div class="pagination"
        style=" position: fixed; z-index: 1000; left: 2.25em; bottom: 2em; height: 14em; text-align: left; font-family: geomanist-regular; color: white;">
        <div class="current-page" style="color: #06070E">1</div>
        <div class="pagination-container"
            style="height: 10em; width: 2px; background: #28304417; margin: .25em 0 .25em .15em">

            <div class="fill" style="background: #06070E; transition: 1.2s; height: 0.01em"></div>
        </div>
        <div class="last-page" style="color: #06070E">6</div>
    </div>

    <a>
        <div class="nav-fixed nav-bl test-light">
            <button data-state="closed" class="cursor-hover">

            </button>
        </div>
    </a>

    <a>
        <div class="nav-fixed nav-br test-light">
            <button data-state="closed" class="cursor-hover">
                <i class="fab fa-github"></i>
                <i class="fab fa-instagram"></i>
                <i class="fab fa-twitter"></i>
            </button>
        </div>
    </a>

    <div id="nav-block" style="position: fixed; top: -100vh; height: 100vh; width: 100%; background: #2bc016"></div>

    <div id="nav-main">
        <div class="container-fluid right-align" style="padding: 2em; height: inherit">
            <div class="row">
                <div class="col l6"></div>
                <div class="col s6 l3"
                    style="padding-top: 6em; font-size: 2em; font-family: geomanist-regular; color: #FCFCFC">
                    <div class="nav-link" data-nav-index="0">Home</div>
                    <div class="nav-link" data-nav-index="1">About</div>
                    <div class="nav-link" data-nav-index="2">Portfolio</div>
                    <div class="nav-link" data-nav-index="3">Musings</div>
                    <div class="nav-link" data-nav-index="4">Contact</div>
                </div>
            </div>
        </div>
    </div>

    <div class="section-scrollify" id="one" data-section-name="home" style="background: #FCFCFC; color: #06070E">
        <div class="container" style="padding-top: 18em">

            <div class="row">
                <div class="col l12">
                    <div class="">
                        <h1 style="font-family: geomanist-thin">Hello World</h1>
                        <h6>My name is John. I am a fullstack web developer.</h6>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="section-scrollify" data-section-name="about"
        style="background: #06070E; color: #FCFCFC; text-align: left; position: relative; z-index: 100">

        <div class="container" style="padding-top: 20%">
            <div class="row">
                <div class="col l12">
                    <h1>I'm John</h1>
                    <h6 style="color: #ff5817">I create engaging web experiences.</h6>
                    <br>
                    <p>Since 2017, I have been rediscovering the bliss</p>
                </div>
            </div>
        </div>
    </div>

    <div class="section-scrollify" data-section-name="portfolio" style="background: #06070E; color: #FCFCFC">

        <div class="container" style="padding-top: 20%">
            <div class="row">
                <div class="col l12">
                    <h1>Projects</h1>
                    <h6>Production Sites, web apps, toy apps, and work-in-progress.</h6>
                    <a>

                        <div id="button-explore-container" class="layer-3">
                            <button id="button-explore">EXPLORE</button>
                        </div>

                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="section-scrollify" data-section-name="musings"
        style="background: #FCFCFC; color: #06070E; text-align: right; position: relative; z-index: 100">

        <div class="container" style="padding-top: 20%">
            <div class="row">
                <div class="col l12">
                    <h1>Musings</h1>
                    <h6>Thoughts on development, design, UI, and UX.</h6>
                    <button>READ MORE</button>
                </div>
            </div>
        </div>
    </div>

    <div class="section-scrollify" data-section-name="contact"
        style="background: #FF4800; color: #FCFCFC; font-family: geomanist-thin">

        <div class="container" style="padding-top: 20%">
            <div class="row">
                <div class="col l12">
                    <h1>Connect</h1>
                    <h6>Let's chat via Slack, email, or social media.</h6>
                </div>
            </div>
        </div>
    </div>

    <div class="footer" data-section-name="footer">
        <br>
        <br>
        <div>Footy for the bois.</div>
        <br>
    </div>

    <div id="particles-js" style="z-index: 0; height: 100vh; position: fixed; top: 0; width: 100%"></div>

    <!-- Begin Cursors -->
    <div class="your-cursor2"></div>
    <div class="follow2"></div>
    <!-- End Cursors -->

    <!-- materialize css library for grid and components -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <!-- TweenMax to power the custom cursor (also to try out the animation library vs animejs) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>
    <!-- Script to power the cursor -->
    <script src="assets/js/addthisshit2.js"></script>

    <!-- Main script for site -->
    <script src="assets/js/main.js"></script>
    <script>
        // REPLACE CURSOR WITH ANIME.JS VERSION LATER - USE THIS: https://codepen.io/tguelcan-the-sasster/full/ROoxWm
        $(document)
            .mousemove(function (e) {
                $('.your-cursor2')
                    .eq(0)
                    .css({
                        left: e.pageX,
                        top: e.pageY
                    });
            });
        $(document).on("mousemove", function (e) {
            mouseX = e.pageX;
            mouseY = e.pageY;
        });

    </script>

</body>

</html>